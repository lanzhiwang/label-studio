# Get data into Label Studio
将数据导入 Label Studio

* https://labelstud.io/guide/tasks

Get data into Label Studio by importing files, referencing URLs, or syncing with cloud or database storage.
通过导入文件、引用 URL 或与云或数据库存储同步，将数据导入 Label Studio。

- If your data is stored in a cloud storage bucket, see [Sync data from cloud or database storage](https://labelstud.io/guide/storage).
  如果您的数据存储在云存储桶中，请参阅从云或数据库存储同步数据。

- If your data is stored in a Redis database, see [Sync data from cloud or database storage](https://labelstud.io/guide/storage).
  如果您的数据存储在 Redis 数据库中，请参阅从云或数据库存储同步数据。

- If your data is stored at internet-accessible URLs, in files, or directories, [import it from the Label Studio UI](https://labelstud.io/guide/tasks#Import-data-from-the-Label-Studio-UI).
  如果您的数据存储在可通过互联网访问的 URL、文件或目录中，请从 Label Studio UI 导入。

- If your data is stored locally, [import it into Label Studio](https://labelstud.io/guide/tasks#Import-data-from-a-local-directory).
  如果您的数据存储在本地，请将其导入 Label Studio。

- If your data contains predictions or pre-annotations, see [Import pre-annotated data into Label Studio](https://labelstud.io/guide/predictions).
  如果您的数据包含预测或预注释，请参阅将预注释数据导入 Label Studio。

## Types of data you can import into Label Studio
您可以导入 Label Studio 的数据类型

You can import many types of data, including text, timeseries, audio, and image data. The file types supported depend on the type of data.
您可以导入多种类型的数据，包括文本、时间序列、音频和图像数据。 支持的文件类型取决于数据类型。

| Data type                                                                                         | Supported file types                |
| ------------------------------------------------------------------------------------------------- | ----------------------------------- |
| Audio                                                                                             | .flac, .m4a, .mp3, .ogg, .wav       |
| [HyperText (HTML)](https://labelstud.io/guide/tasks#Import-HTML-data)                             | .html, .htm, .xml                   |
| Images                                                                                            | .bmp, .gif, .jpg, .png, .svg, .webp |
| Paragraphs (Dialogue)                                                                             | .json                               |
| Structured data                                                                                   | .csv, .tsv                          |
| [Text](https://labelstud.io/guide/tasks#Plain-text)                                               | .txt, .json                         |
| [Time series](https://labelstud.io/guide/tasks#Import-CSV-or-TSV-data)                            | .csv, .tsv, .json                   |
| [Tasks with multiple data types](https://labelstud.io/guide/tasks#Basic-Label-Studio-JSON-format) | .csv, .tsv, .json                   |
| Video                                                                                             | .mp4, .webm, .avi                   |

If you don’t see a supported data or file type that you want to import, please let us know by submitting an issue to the [Label Studio Repository](https://github.com/humansignal/label-studio/issues).
如果您没有看到要导入的受支持的数据或文件类型，请通过向 Label Studio 存储库提交问题来告知我们。












单击以展开每个 valueType 的示例配置
如何检索数据
检索要在对象标记中显示的数据需要执行几个步骤。 数据检索也用于动态选择和标签。 在对象标记中使用以下参数。

值（必填）
value参数代表数据的来源。 它可以是纯文本，也可以是复杂数据检索系统的一个步骤。 它可以用以下形式表示：
值（必填）

变量
在大多数情况下，Object 标记的值中包含一个变量（以 $ 为前缀）。

例如， <Audio value="$audio" ... /> 在导入的 JSON 对象中查找“audio”字段：








### How to import your data
如何导入您的数据

The most secure and reliable method to import your data is to store the data outside of Label Studio and import references to the data using URLs. You can import a list of URLs in a TXT, CSV, or TSV file, or reference the URLs in [JSON task format](https://labelstud.io/guide/tasks#Basic-Label-Studio-JSON-format).
导入数据最安全可靠的方法是将数据存储在 Label Studio 外部，并使用 URL 导入对数据的引用。 您可以导入 TXT、CSV 或 TSV 文件中的 URL 列表，或引用 JSON 任务格式的 URL。

If you’re importing audio, image, or video data, you must use URLs to refer to those data types.
如果您要导入音频、图像或视频数据，则必须使用 URL 来引用这些数据类型。

If you’re importing HTML, text, dialogue, or timeseries data using the `<HyperText>`, `<Text>`, `<Paragraphs>`, or `<TimeSeries>` tags in your labeling configuration, you can either load data directly, or load data from a URL.
如果您要在标签配置中使用 `<HyperText>`、`<Text>`、`<Paragraphs>` 或 `<TimeSeries>` 标签导入 HTML、文本、对话或时间序列数据，则可以直接加载数据，也可以从网址。

- To load data from a URL, specify `valueType="url"` in your labeling configuration.
  要从 URL 加载数据，请在标签配置中指定 valueType="url"。

- To load data directly into the Label Studio database, specify `valueType="text"` for `HyperText` or `Text` data, or `valueType="json"` for `Paragraph` or `TimeSeries` data.
要将数据直接加载到 Label Studio 数据库中，请为超文本或文本数据指定 valueType="text"，或为段落或时间序列数据指定 valueType="json"。

> NOTE
> If you load data from a URL, the data is not saved in Label Studio. If you want an annotated task export to include the data that you annotated, you must import the data into the Label Studio database without using URL references, or combine the data with the annotations after exporting.
> 如果您从 URL 加载数据，则该数据不会保存在 Label Studio 中。 如果您希望带注释的任务导出包含您所注释的数据，则必须将数据导入 Label Studio 数据库而不使用 URL 引用，或者在导出后将数据与注释合并。
>

## How to retrieve data
如何检索数据

### `value` (required)

The `value` parameter represents the source of the data. It can be plain text or a step of complex data retrieval system. It can be denoted using the following forms:
value参数代表数据的来源。 它可以是纯文本，也可以是复杂数据检索系统的一个步骤。 它可以用以下形式表示：

### `valueType` (optional)

The `valueType` parameter defines how to treat the data retrieved from the previous steps.  
There are two options such as the “url” and raw data. Currently the raw data input can be “text” or “json”. The “text” is used for `HyperText` and `Text` tags and “json” is used for `TimeSeries` tag.
valueType 参数定义如何处理从前面步骤中检索到的数据。
有两个选项，例如“url”和原始数据。 目前原始数据输入可以是“text”或“json”。 “text”用于超文本和文本标签，“json”用于 TimeSeries 标签。

For example:

- Using “url”: `<Text name="text1" value="$text" valueType="url"/>` displays the text loaded by the URL.

- Using “text”: `<Text name="text" value="$text" valueType="text"/>` displays the URL without loading the text.

### `resolver` (optional)

Use this parameter to retrieve data from multi-column csv on [S3 or other cloud storage](https://labelstud.io/guide/storage). Label Studio can retrieve it only in run-time, so it’s secure.
使用此参数可从 S3 或其他云存储上的多列 csv 检索数据。 Label Studio 只能在运行时检索它，因此它是安全的。

If you import a file with a list of tasks, and every task in this list is a link to another file in the storage. In this case, you can use the `resolver` parameter to retrieve the content of these files from a storage.
如果导入包含任务列表的文件，并且此列表中的每个任务都是指向存储中另一个文件的链接。 在这种情况下，您可以使用解析器参数从存储中检索这些文件的内容。

## How to format your data to import it
如何格式化数据以导入它

Label Studio treats different file types different ways.
Label Studio 以不同的方式处理不同的文件类型。

If you want to import multiple types of data to label at the same time, for example, images with captions or audio recordings with transcripts, you must use the [basic Label Studio JSON format](https://labelstud.io/guide/tasks#Basic-Label-Studio-JSON-format).
如果您想要同时导入多种类型的数据进行标签，例如带有字幕的图像或带有文字记录的录音，则必须使用基本的 Label Studio JSON 格式。

[You can also use a CSV file or a JSON list of tasks to point to URLs with the data](https://labelstud.io/guide/tasks#How-to-import-your-data), rather than directly importing the data if you need to import thousands of files. You can import files containing up to 250,000 tasks or up to 50MB in size into Label Studio.
如果需要导入数千个文件，您还可以使用 CSV 文件或 JSON 任务列表来指向包含数据的 URL，而不是直接导入数据。 您可以将最多包含 250,000 个任务或最大大小为 50MB 的文件导入 Label Studio。

If you’re specifying data in a cloud storage bucket or container, and you don’t want to [sync cloud storage](https://labelstud.io/guide/storage), create and specify [presigned URLs for Amazon S3 storage](https://docs.aws.amazon.com/AmazonS3/latest/userguide/ShareObjectPreSignedURL.html), [signed URLs for Google Cloud Storage](https://cloud.google.com/storage/docs/access-control/signed-urls), or [shared access signatures for Microsoft Azure](https://docs.microsoft.com/en-us/azure/storage/common/storage-sas-overview) in a JSON, CSV, TSV or TXT file.
如果您在云存储存储桶或容器中指定数据，并且不想同步云存储，请在以下位置创建并指定 Amazon S3 存储的预签名 URL、Google Cloud Storage 的签名 URL 或 Microsoft Azure 的共享访问签名 JSON、CSV、TSV 或 TXT 文件。

### Basic Label Studio JSON format

The best way to import data into Label Studio is to use a JSON-formatted list of tasks. The `data` key of the JSON file references each task as an entry in a JSON dictionary. If there is no `data` key, Label Studio interprets the entire JSON file as one task.
将数据导入 Label Studio 的最佳方法是使用 JSON 格式的任务列表。 JSON 文件的数据键将每个任务引用为 JSON 字典中的条目。 如果没有数据密钥，Label Studio 会将整个 JSON 文件解释为一项任务。

In the `data` JSON dictionary, use key-value pairs that correspond to the source key expected by the object tag in the [label configuration](https://labelstud.io/guide/setup#Customize-the-labeling-interface-for-your-project) that you set up for your project.
在数据 JSON 字典中，使用与您为项目设置的标签配置中的对象标记所需的源键相对应的键值对。

Depending on the type of object tag, Label Studio interprets field values differently:

- `<Text value="$key">`: `value` is interpreted as plain text.
- `<HyperText value="$key">`: `value` is interpreted as HTML markup.
- `<HyperText value="$key" encoding="base64">`: `value` is interpreted as a base64 encoded HTML markup.
- `<Audio value="$key">`: `value` is interpreted as a valid URL to an audio file with CORS policy enabled on the server side.
- `<Image value="$key">`: `value` is interpreted as a valid URL to an image file
- `<TimeSeries value="$key">`: `value` is interpreted as a valid URL to a CSV/TSV file if `valueType="url"`, otherwise it is interpreted as a JSON dictionary with column arrays: `"value": {"first_column": [...], ...}` if `valueType="json"`. See more about [how to use valueType](https://labelstud.io/guide/tasks#How-to-import-your-data).

You can add other, optional keys to the JSON file.

| JSON key    | Description                                                                                                                                                                                                                                                                                                                                            |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| annotations | Optional. List of annotations exported from Label Studio. [Label Studio’s annotation format](https://labelstud.io/guide/export#Raw-JSON-format-of-completed-tasks) allows you to import annotation results in order to use them in subsequent labeling tasks.                                                                                          |
| predictions | Optional. List of model prediction results, where each result is saved using [Label Studio’s prediction format](https://labelstud.io/guide/export#Raw-JSON-format-of-completed-tasks). Import predictions for automatic task pre-labeling and active learning. See [Import predicted labels into Label Studio](https://labelstud.io/guide/predictions) |

See [Relevant JSON property descriptions](https://labelstud.io/guide/export#Relevant-JSON-property-descriptions) in the export documentation for more details about the JSON format of exported tasks.

### [](https://labelstud.io/guide/tasks#Example-JSON-format "Example JSON format")Example JSON format

For an example text classification project, you can set up a label config like the following:

xml`<View>   <Text name="message" value="$my_text"/>   <Choices name="sentiment_class" toName="message">     <Choice value="Positive"/>     <Choice value="Neutral"/>     <Choice value="Negative"/>   </Choices> </View>`

You can then import text tasks to label that match the following JSON format:

yaml`[{   # "data" must contain the "my_text" field defined in the text labeling config as the value and can optionally include other fields   "data": {     "my_text": "Opossums are great",     "ref_id": 456,     "meta_info": {       "timestamp": "2020-03-09 18:15:28.212882",       "location": "North Pole"     }    },    # annotations are not required and are the list of annotation results matching the labeling config schema   "annotations": [{     "result": [{       "from_name": "sentiment_class",       "to_name": "message",       "type": "choices",       "readonly": false,       "hidden": false,       "value": {         "choices": ["Positive"]       }     }]   }],    # "predictions" are pretty similar to "annotations"    # except that they also include some ML-related fields like a prediction "score"   "predictions": [{     "result": [{       "from_name": "sentiment_class",       "to_name": "message",       "type": "choices",       "readonly": false,       "hidden": false,       "value": {         "choices": ["Neutral"]       }     }],   # score is used for active learning sampling mode     "score": 0.95   }] }]`

If you’re placing JSON files in [cloud storage](https://labelstud.io/guide/storage), place 1 task in each JSON file in the storage bucket. If you want to upload a JSON file from your machine directly into Label Studio, you can place multiple tasks in one JSON file and import it using Label Studio GUI (Data Manager => Import button).

#### [](https://labelstud.io/guide/tasks#Example-JSON-with-multiple-tasks "Example JSON with multiple tasks")Example JSON with multiple tasks

You can place multiple tasks in one JSON file if you’re uploading the JSON file using Label Studio Import Dialog only (Data Manager => Import button).

**To place multiple tasks in one JSON file, use this JSON format example**

#### [](https://labelstud.io/guide/tasks#Example-JSON-for-older-versions-of-Label-Studio "Example JSON for older versions of Label Studio")Example JSON for older versions of Label Studio

If you’re still using a Label Studio version earlier than 1.0.0, refer to this example JSON format.

**For versions of Label Studio earlier than 1.0.0, use this JSON format example.**

### [](https://labelstud.io/guide/tasks#Import-CSV-or-TSV-data "Import CSV or TSV data")Import CSV or TSV data

When you import a CSV / TSV formatted text file, Label Studio interprets the column names are as task data keys that correspond to the labeling config you set up:

csv`my_text,optional_field this is a first task,123 this is a second task,456`

NOTE

If your labeling config has a `TimeSeries` tag, Label Studio interprets the CSV/TSV as time series data when you import it. This CSV/TSV is hosted as a resource file and Label Studio automatically creates a task with a link to the uploaded CSV/TSV.

### [](https://labelstud.io/guide/tasks#Plain-text-1 "Plain text")Plain text

Import data as plain text. Label Studio interprets each line in a plain text file as a separate data labeling task.

You might use plain text for labeling tasks if you have only one stream of input data, and only one [object tag](https://labelstud.io/tags) specified in your label config.

text`this is a first task this is a second task`

If you want to import entire plain text files without each line becoming a new labeling task, customize the labeling configuration to specify `valueType="url"` in the Text tag. See the [Text tag documentation](https://labelstud.io/tags/text). See more about [how to use the valueType field](https://labelstud.io/guide/tasks#How-to-import-your-data).

### [](https://labelstud.io/guide/tasks#Import-HTML-data "Import HTML data")Import HTML data

You can import `HyperText` data in HTML-formatted files and annotate them in Label Studio. When you directly import HTML files, the content is minified by compressing the text, removing whitespace and other nonfunctional data in the HTML code. Annotations that you create are applied to the minified version of the HTML.

If you want to label HTML files without minifying the data, you can do one of the following:

- Import the HTML files as BLOB storage from [external cloud storage such as Amazon S3 or Google Cloud Storage](https://labelstud.io/guide/storage).
- Update the `HyperText` tag in your labeling configuration to specify `valueType="url"` as described in [How to import your data](https://labelstud.io/guide/tasks#How-to-import-your-data) on this page.

## [](https://labelstud.io/guide/tasks#Import-data-from-a-local-directory "Import data from a local directory")Import data from a local directory

To import data from a local directory, you have two options:

- Run a web server to generate URLs for the files, then upload a file that references the URLs to Label Studio.
- Add the file directory as a source or target [local storage](https://labelstud.io/guide/storage#Local-storage) connection in the Label Studio UI.

### [](https://labelstud.io/guide/tasks#Run-a-web-server-to-generate-URLs-to-local-files "Run a web server to generate URLs to local files")Run a web server to generate URLs to local files

To run a web server to generate URLs for the files, you can refer to this provided [helper shell script in the Label Studio repository](https://github.com/heartexlabs/label-studio/blob/master/scripts/serve_local_files.sh) or write your own script.  
Use that script to do the following:

1. On the machine with the file directory that you want Label Studio to import, call the helper script and specify a regex pattern to match the files that you want to import. In this example, the script identifies files with the JPG file extension:
   
   bash`./script/serve_local_files.sh <directory/with/files> *.jpg`
   
   The script collects the links to the files provided by that HTTP server and saves them to a `files.txt` file with one URL per line.

2. Import the file with URLs into Label Studio using the Label Studio UI.

NOTE

You must keep the web server running while you perform your data labeling so that the URLs remain accessible to Label Studio.

If your labeling configuration supports HyperText or multiple data types, use the Label Studio JSON format to specify the local file locations instead of a `txt` file. See [an example of this format](https://labelstud.io/guide/storage#Tasks-with-local-storage-file-references).

If you serve your data from an HTTP server created like follows: `python -m http.server 8081 -d`, you might need to set up CORS for that server so that Label Studio can access the data files successfully. If needed, run the following from the command line:

bash`npm install http-server -g http-server -p 3000 --cors`

### [](https://labelstud.io/guide/tasks#Add-the-file-directory-as-source-storage-in-the-Label-Studio-UI "Add the file directory as source storage in the Label Studio UI")Add the file directory as source storage in the Label Studio UI

If you’re running Label Studio on Docker and want to add local file storage, you need to mount the file directory and set up environment variables. See [Run Label Studio on Docker and use local storage](https://labelstud.io/guide/start#Run-Label-Studio-on-Docker-and-use-local-storage).

## [](https://labelstud.io/guide/tasks#Import-data-from-the-Label-Studio-UI "Import data from the Label Studio UI")Import data from the Label Studio UI

To import data from the Label Studio UI, do the following:

1. On the Label Studio UI, open the Data Manager page for a specific project.
2. Click **Import** to open the Import dialog.
3. Import your data from files or URLs.

Data that you import is project-specific.

![](https://labelstud.io/images/screens/import-button.png "Import Button in Data Manager")

## [](https://labelstud.io/guide/tasks#Import-data-using-the-API "Import data using the API")Import data using the API

Import your data using the Label Studio API. See the [API documentation for importing tasks](https://labelstud.io/api#operation/api_projects_import_create).

### [](https://labelstud.io/guide/tasks#Import-data-from-the-command-line "Import data from the command line")Import data from the command line

In versions of Label Studio earlier than 1.0.0, you can import data from a local directory using the command line.

To import data from the command line, do the following:

1. Start Label Studio and use command line arguments to specify the path to the data and format of the data.  
   For example:  
   `label-studio init --input-path my_tasks.json --input-format json`
2. Open the Label Studio UI and confirm that your data was properly imported.

You can use the `--input-path` argument to specify a file or directory with the data that you want to label. You can specify other data formats using the `--input-format` argument. For example run the following command to start Label Studio and import audio files from a local directory:

bash`label-studio init my-project --input-path=my/audios/dir --input-format=audio-dir --label-config=config.xml --allow-serving-local-files`

WARNING

The `--allow-serving-local-files` argument is intended for use only with locally-running instances of Label Studio. Avoid using it for remote servers unless you are sure what you're doing.

By default, Label Studio expects JSON-formatted tasks using the [Basic Label Studio JSON format](https://labelstud.io/guide/tasks#Basic-Label-Studio-JSON-format).

If you add more files to a local directory after Label Studio starts, you must restart Label Studio to import the tasks in the additional files.








